<!-- web/templates/results.html -->

{% extends "base.html" %}

{% block title %}–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞{% endblock %}

{% block content %}
  <div class="container">
    <h1>üîé –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h1>

    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
    <p><a href="/" class="btn-back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É</a></p>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π -->
    {% if results %}
      <p class="results-count">–ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {{ results|length }}</p>
    {% endif %}

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    {% if results %}
      <table class="results-table">
        <thead>
          <tr>
            <th>–ò–º—è</th>
            <th>–ò—Å—Ç–æ—á–Ω–∏–∫</th>
            <th>–°—Ç—Ä–∞–Ω–∞</th>
            <th>–ü—Ä–æ–≥—Ä–∞–º–º–∞ (OFAC)</th>
            <th>–¢–∏–ø</th>
            <th>–ü—Ä–∏—á–∏–Ω–∞</th>
            <th>–î–∞—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∏—è</th>
            <th>–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è</th>
            <th>–ê–ª–∏–∞—Å—ã</th>
          </tr>
        </thead>
        <tbody>
          {% for item in results %}
            <tr>
              <td>{{ item.name }}</td>
              <td>{{ item.source }}</td>
              <td>{{ item.country or '-' }}</td>
              <td>{{ item.program or '-' }}</td>
              <td>{{ item.sdn_type or '-' }}</td>
              <td>{{ item.reason or '-' }}</td>
              <td>
                {% if item.effective_date %}
                  {{ item.effective_date.split('T')[0] }}
                {% else %}
                  -
                {% endif %}
              </td>
              <td>{{ item.birth_place or '-' }}</td>
              <td>
                {% if item.aliases and item.aliases|length > 0 %}
                  {{ item.aliases|join(', ') }}
                {% else %}
                  -
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="no-results">‚ùå –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É.</p>
    {% endif %}
  </div>
{% endblock %}